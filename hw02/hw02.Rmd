---
title: "Assignment 2"
author: "Daniel Stewart"
date: "September 23, 2019"
output: html_document
---

Loading Packages
```{r load packages, warning = FALSE, echo = FALSE}
library(gapminder)
library(tidyverse)
library(dplyr)
library(ggplot2)
library(tibble)
library(data.table)
library(DT)
```

Exercise 1.1
```{r}
gapminder %>%
  filter(country == 'Denmark' | country == 'Greece' | country == 'Nepal',
         year ==  1972)
```
Exercise 1.2
```{r}
gapminder %>%
  filter(country == 'Denmark' | country == 'Greece' | country == 'Nepal',
         year ==  1972) %>%
  select(country, gdpPercap)
```

Exercise 1.3
```{r}
gapminder %>%
  group_by(country) %>%
  mutate(LifeExpDiff = lifeExp - lag(lifeExp)) %>%
  filter(LifeExpDiff < 0)
```

Exercise 1.4
```{r}
gapminder %>%
  group_by(country) %>%
  summarise(max(gdpPercap)) 
```
Exercise 1.5
```{r}
gapminder %>%
  filter(country == "Canada") %>%
  select(lifeExp, gdpPercap) %>%
  ggplot +
  geom_point(aes(x = gdpPercap, y = lifeExp)) +
  xlab("GDP Per Capita") +
  ylab("Life Expectancy") + 
  scale_x_log10()
```
Exercise 2:

```{r}

#Identifying the most extreme values for both variables (range)
gapminder %>%
  select(country, pop) %>%
  summarise(max(pop), min(pop),
            first(country), last(country)) 

#Creating a list of countries included in the dataset
datatable(gapminder %>%
  select(country) %>%
  distinct(country, .keep_all= TRUE)) 

#Visualizing the population data distribution from 1952-2007
  ggplot(gapminder) +
  geom_boxplot (aes(factor(year), pop)) +
  xlab("Year") +
  ylab("Population") + 
  scale_y_log10() 

#Visualizing the global increase in population from 1952 - 2007
ggplot(gapminder, aes(year, pop)) +
  geom_bar(stat = "identity")  +
  xlab("Year") +
  ylab("Global Population") 

#Using mutate to calculate the mean population of countries from 1952-2007 (with SD)
gapminder %>%
  group_by(year) %>%
  mutate(meanpop = mean(pop)) %>%
  mutate(stdevpop = sd(pop)) %>%
  select(year, meanpop, stdevpop) %>%
  distinct(year, .keep_all= TRUE) %>%
  ggplot(gapminder, mapping = aes(year, meanpop)) + 
  geom_bar(stat = "identity") +
  geom_errorbar(aes(ymin= 0, ymax=meanpop+stdevpop)) +
  xlab("Year") +
  ylab("Mean National Population") +
  scale_y_continuous(limit = c(0,2e+08))

```




