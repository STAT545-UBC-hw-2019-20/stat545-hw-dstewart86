---
title: "Assignment 4"
author: "Daniel Stewart"
date: "October 7, 2019"
output: html_document
---

```{r allow errors, echo = FALSE}
knitr::opts_chunk$set(error = TRUE, warning = FALSE)
```

Installed Packages:

  + install.packages("tidyverse")
  + install.packages("gapminder")
  + install.packages("DT")
  + install.packages("ggplot2")
  + install.packages("ggridges")
  + install.packages("scales")
  + install.packages("tidyr")
  + install.packages("readr")

```{r setup, include=FALSE, message=F}
suppressPackageStartupMessages(library(tsibble))
suppressPackageStartupMessages(library(tidyr))
suppressPackageStartupMessages(library(scales))
suppressPackageStartupMessages(library(ggridges))
suppressPackageStartupMessages(library(gapminder))
suppressPackageStartupMessages(library(dplyr))
suppressPackageStartupMessages(library(DT))
suppressPackageStartupMessages(library(ggplot2))
suppressPackageStartupMessages(library(readr))
```

## Exercise 1: Univariate Data Reshaping
### Univariate Option 1

#### Part 1: Life Expectancy of Scandinavian Countries (1952-2007)
```{r}
Scandinavian_LifeExp <- gapminder %>%
  filter(country == "Denmark" | country == "Sweden" | country == "Finland" | country == "Iceland") %>%
  pivot_wider(id_cols = year,
  names_from = country,
  values_from = lifeExp)
  Scandinavian_LifeExp
```

### Part 2: Scatterplot of Scandinavian Country Life Expectancies (1952-2007)
```{r}
PlotData <- reshape2::melt(Scandinavian_LifeExp, id.vars = "year") %>%
  rename(Country = variable)

ggplot(PlotData, aes(year, value, col=Country)) +
  geom_point () + 
  facet_wrap(~Country) +
  xlab("Year") +
  ylab("Life Expectancy") +
  theme_bw() + 
  theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())

#I tried to plot the outputs of Part 1 directly, but it was extremely difficult due to the multiple columns. I initially solved this by using "geom_point" separately for each country, but this made it impossible to generate an appropriate legend. In the end I opted to melt the columns into one, allowing me to make these plots in a satisfactory manner. 
```

